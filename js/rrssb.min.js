/*!
 Ridiculously Responsive Social Sharing Buttons
 Team: @dbox, @joshuatuscan
 Site: http://www.kurtnoble.com/labs/rrssb
 Twitter: @therealkni

        ___           ___
       /__/|         /__/\        ___
      |  |:|         \  \:\      /  /\
      |  |:|          \  \:\    /  /:/
    __|  |:|      _____\__\:\  /__/::\
   /__/\_|:|____ /__/::::::::\ \__\/\:\__
   \  \:\/:::::/ \  \:\~~\~~\/    \  \:\/\
    \  \::/~~~~   \  \:\  ~~~      \__\::/
     \  \:\        \  \:\          /__/:/
      \  \:\        \  \:\         \__\/
       \__\/         \__\/
*/
+function(C,x,b){var D={calc:!1};x.fn.rrssb=function(c){var d=x.extend({description:b,emailAddress:b,emailBody:b,emailSubject:b,image:b,title:b,url:b},c);for(var a in d){d.hasOwnProperty(a)&&d[a]!==b&&(d[a]=A(d[a]))}d.url!==b&&(x(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+d.url),x(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+d.url+(d.title!==b?"&name="+d.title:"")+(d.description!==b?"&description="+d.description:"")),x(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+d.url+(d.title!==b?"&title="+d.title:"")+(d.description!==b?"&summary="+d.description:"")),x(this).find(".rrssb-twitter a").attr("href","http://twitter.com/home?status="+(d.description!==b?d.description:"")+"%20"+d.url),x(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+d.url+(d.title!==b?"&text="+d.title:"")),x(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+d.url+(d.description!==b?"&text="+d.description:"")+(d.title!==b?"&title="+d.title:"")),x(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+(d.description!==b?d.description:"")+"%20"+d.url),x(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+d.url+(d.image!==b?"&amp;media="+d.image:"")+(d.description!==b?"&amp;description="+d.description:"")),x(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+d.url),x(this).find(".rrssb-github a").attr("href",d.url)),d.emailAddress!==b&&x(this).find(".rrssb-email a").attr("href","mailto:"+d.emailAddress+"?"+(d.emailSubject!==b?"subject="+d.emailSubject:"")+(d.emailBody!==b?"&amp;body="+d.emailBody:""))};var q=function(){var c=x("<div>"),d=["calc","-webkit-calc","-moz-calc"];x("body").append(c);for(var a=0;a<d.length;a++){if(c.css("width",d[a]+"(1px)"),1===c.width()){D.calc=d[a];break}}c.remove()},A=function(a){if(a!==b&&null!==a){if(null===a.match(/%[0-9a-f]{2}/i)){return encodeURIComponent(a)}a=decodeURIComponent(a),A(a)}},j=function(){x(".rrssb-buttons").each(function(e){var h=x(this),f=x("li:visible",h),d=f.length,c=100/d;f.css("width",c+"%").attr("data-initwidth",c)})},p=function(){x(".rrssb-buttons").each(function(c){var e=x(this),d=e.width(),a=x("li",e).not(".small").first().width();a>170&&x("li.small",e).length<1?e.addClass("large-format"):e.removeClass("large-format"),200>d?e.removeClass("small-format").addClass("tiny-format"):e.removeClass("tiny-format")})},g=function(){x(".rrssb-buttons").each(function(L){var e=x(this),M=x("li",e),G=M.filter(".small"),J=0,h=0,F=G.first(),f=parseFloat(F.attr("data-size"))+55,I=G.length;if(I===M.length){var H=42*I,E=e.width();E>H+f&&(e.removeClass("small-format"),G.first().removeClass("small"),v())}else{M.not(".small").each(function(c){var l=x(this),d=parseFloat(l.attr("data-size"))+55,a=parseFloat(l.width());J+=a,h+=d});var K=J-h;K>f&&(F.removeClass("small"),v())}})},z=function(a){x(".rrssb-buttons").each(function(c){var e=x(this),d=x("li",e);x(d.get().reverse()).each(function(o,s){var m=x(this);if(m.hasClass("small")===!1){var h=parseFloat(m.attr("data-size"))+55,u=parseFloat(m.width());if(h>u){var f=d.not(".small").last();x(f).addClass("small"),v()}}--s||g()})}),a===!0&&k(v)},v=function(){x(".rrssb-buttons").each(function(I){var e,u,H,s,f,G=x(this),E=x("li",G),F=E.filter(".small"),n=F.length;n>0&&n!==E.length?(G.removeClass("small-format"),F.css("width","42px"),H=42*n,e=E.not(".small").length,u=100/e,f=H/e,D.calc===!1?(s=(G.innerWidth()-1)/e-f,s=Math.floor(1000*s)/1000,s+="px"):s=D.calc+"("+u+"% - "+f+"px)",E.not(".small").css("width",s)):n===E.length?(G.addClass("small-format"),j()):(G.removeClass("small-format"),j())}),p()},y=function(){x(".rrssb-buttons").each(function(a){x(this).addClass("rrssb-"+(a+1))}),q(),j(),x(".rrssb-buttons li .rrssb-text").each(function(a){var d=x(this),c=d.width();d.closest("li").attr("data-size",c)}),z(!0)},k=function(a){x(".rrssb-buttons li.small").removeClass("small"),z(),a()},B=function(G,K,E,J){var r=C.screenLeft!==b?C.screenLeft:screen.left,u=C.screenTop!==b?C.screenTop:screen.top,f=C.innerWidth?C.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,I=C.innerHeight?C.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,F=f/2-E/2+r,H=I/3-J/3+u,t=C.open(G,K,"scrollbars=yes, width="+E+", height="+J+", top="+H+", left="+F);C.focus&&t.focus()},w=function(){var a={};return function(f,d,c){c||(c="Don't call this twice without a uniqueId"),a[c]&&clearTimeout(a[c]),a[c]=setTimeout(f,d)}}();x(document).ready(function(){x(".rrssb-buttons a.popup").on("click",function(a){var c=x(this);B(c.attr("href"),c.find(".rrssb-text").html(),580,470),a.preventDefault()}),x(C).resize(function(){k(v),w(function(){k(v)},200,"finished resizing")}),y()}),C.rrssbInit=y}(window,jQuery);